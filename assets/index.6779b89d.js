import{c as h,a as p,b as N,d as C,e as i,t as d,f as w,g as b,i as c,m as v,u as g,M as y,S as L,h as $,j as T,o as E,k as M,F as x,l as P,s as K,n as B,r as j}from"./vendor.c4d8473c.js";const G=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};G();function I(o,{key:e}){const[n,s]=h(o);return e||(e=Date.now().toString(36)),localStorage[e]&&s(JSON.parse(localStorage[e])),p(()=>localStorage[e]=JSON.stringify(n())),[n,s]}const _=Array.from("1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679"),A={mode:"MENU",points:20,challenge:70,startTime:null,endTime:null,answer:null,solution:1,wrongAnswerAnimation:!1},m=N([A,{}]);function O(o){const[e,n]=C(A);let s;const t=l=>{if(e.mode==="PLAY"){if(n("answer",l),e.points==0&&n("startTime",new Date),clearInterval(s),l!=e.solution){n("wrongAnswerAnimation",!0),s=setInterval(()=>n("wrongAnswerAnimation",!1),650);return}n(a=>({points:a.points+1,solution:_[a.points+1]})),e.challenge==e.points&&n({mode:"MENU",endTime:new Date})}},r=[e,{startGame:l=>n({mode:"PLAY",points:0,challenge:l,startTime:null,endTime:null}),resetGame:()=>n("points",0),backToMenu:()=>n("mode","MENU"),setAnswer:l=>t(l)}];return i(m.Provider,{value:r,get children(){return o.children}})}const Y=d('<button class="py-2 px-4 text-white rounded border-2 border-blue-600 bg-blue-500 hover:bg-blue-500/95"></button>'),f=o=>(()=>{const e=Y.cloneNode(!0);return b(e,"click",o.onClick,!0),c(e,[v(()=>o.label||""),v(()=>o.children||"")]),e})();w(["click"]);const D=d('<main class="relative mx-auto mt-4 flex flex-col justify-items-center items-center gap-4"><label class="font-medium text-xl" for="challenge"></label><input id="challenge" type="range" min="10" max="200" step="10"></main>'),U=d('<main class="relative mx-auto mt-4 flex flex-col justify-items-center items-center gap-4"><div class="sticky top-0 w-full flex gap-4 justify-center py-2 bg-gray-200/80 z-1 0"></div><ul class="grid grid-cols-5 gap-2 justify-items-center items-center md:grid-cols-10"></ul></main>'),F=d('<li class="h-12 w-12 grid justify-items-center items-center bg-white rounded scroll-mt-5 text-xl" style="scroll-margin-top: 5rem;"></li>'),R=d('<div class="mx-auto grid grid-cols-3 justify-items-center gap-2" style="grid-template-columns: repeat(3, 4rem);"></div>'),J=d('<div class="relative sticky w-full py-1 flex flex-col bottom-0 bg-gray-200/50"></div>'),q=d('<button class="h-12 w-full bg-gray-900 text-gray-300 rounded last:col-span-2"></button>'),z=d('<label class="h-4 w-4 ml-auto mr-6 p-1 hover:border border-gray-400 rounded cursor-pointer" for="showKeyBord"><input class="hidden peer" id="showKeyBord" type="checkbox"><img class="opacity-50 peer-checked:rotate-180" src="/assets/chevron.svg" alt="^"></label>'),H=()=>i(O,{get children(){return i(Q,{})}}),Q=()=>{const[o]=g(m);return i(L,{get children(){return[i(y,{get when(){return o.mode==="MENU"},get children(){return[" ",i(V,{})," "]}}),i(y,{get when(){return o.mode==="PLAY"},get children(){return[" ",i(W,{})," "]}})]}})},V=()=>{const[o,{startGame:e}]=g(m),[n,s]=h(o.challenge||40);let t;return(()=>{const r=D.cloneNode(!0),l=r.firstChild,a=l.nextSibling;c(l,n),a.$$input=()=>s(t.value);const u=t;return typeof u=="function"?u(a):t=a,c(r,i(f,{onClick:()=>e(t.value),label:"PLAY"}),null),$(()=>a.value=n()),r})()},W=()=>{const[o,{setAnswer:e,backToMenu:n,resetGame:s}]=g(m),t=T(()=>_.slice(0,o.challenge)),r=l=>e(l.key);return E(()=>document.addEventListener("keydown",r)),M(()=>document.removeEventListener("keydown",r)),p(()=>window.location.hash=`#${o.points}`),(()=>{const l=U.cloneNode(!0),a=l.firstChild,u=a.nextSibling;return c(a,i(f,{onClick:n,label:"BACK"}),null),c(a,i(f,{onClick:s,label:"RETRY"}),null),c(u,i(x,{get each(){return t()},children:(S,k)=>i(X,{get index(){return k()},value:S})})),c(l,i(Z,{}),null),l})()},X=o=>{const[e]=g(m);return(()=>{const n=F.cloneNode(!0);return c(n,()=>o.index<e.points?o.value:"?"),$(s=>{const t=o.index,r={"border-2 border-blue-400 cursor-pointer animate-wiggle":o.index==e.points,"!border-red-400 [--wiggle-speed:0.25s]":e.wrongAnswerAnimation};return t!==s._v$&&K(n,"id",s._v$=t),s._v$2=B(n,r,s._v$2),s},{_v$:void 0,_v$2:void 0}),n})()},Z=()=>{const o="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,[e,n]=I(o,{key:"showKeyboard"}),[s,{setAnswer:t}]=g(m);return(()=>{const r=J.cloneNode(!0);return c(r,i(ee,{onClick:()=>n(l=>!l)}),null),c(r,i(P,{get when(){return e()},get children(){const l=R.cloneNode(!0);return c(l,i(x,{each:[7,8,9,4,5,6,1,2,3,0],fallback:"error",children:a=>(()=>{const u=q.cloneNode(!0);return u.$$click=()=>t(a),c(u,a),u})()})),l}}),null),r})()},ee=o=>(()=>{const e=z.cloneNode(!0),n=e.firstChild;return b(n,"click",o.onClick,!0),e})();w(["input","click"]);j(()=>i(H,{}),document.getElementById("root"));
